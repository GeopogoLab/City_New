<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GeoPogo Earth Builder</title>
  </head>
  <body>
    <div id="app">
      <div id="map"></div>
      <div class="overlay">
        <!-- Header -->
        <header class="header glass-panel">
          <div class="toolbar-icons">
            <button class="icon-btn" data-tool="tree" title="Trees">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M12 2v20m-4-4c-4 0-4-4 0-4s4 4 0 4zm8-6c-4 0-4-4 0-4s4 4 0 4z"></path>
              </svg>
            </button>
            <button class="icon-btn" data-tool="download" title="Download">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4m4-5l5 5 5-5m-5 5V3"></path>
              </svg>
            </button>
            <button class="icon-btn" data-tool="orbit" title="Orbit View">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="3"></circle>
                <path d="M12 1v6m0 6v6"></path>
                <circle cx="12" cy="12" r="10" opacity="0.3"></circle>
              </svg>
            </button>
            <button class="icon-btn" data-tool="eye" title="View Settings">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                <circle cx="12" cy="12" r="3"></circle>
              </svg>
            </button>
            <button class="icon-btn active" data-tool="plane" title="Free-Fly Mode">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="1">
                <path d="M21 16v-2l-8-5V3.5c0-.83-.67-1.5-1.5-1.5S10 2.67 10 3.5V9l-8 5v2l8-2.5V19l-2 1.5V22l3.5-1 3.5 1v-1.5L13 19v-5.5l8 2.5z"></path>
              </svg>
            </button>
            <button class="icon-btn" data-tool="person" title="Avatar View">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                <circle cx="12" cy="7" r="4"></circle>
              </svg>
            </button>
            <button class="icon-btn" data-tool="car" title="Vehicle View">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M5 17h14v2H5v-2zm-1-4l1.5-5h13L20 13H4zm3 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm10 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"></path>
              </svg>
            </button>
          </div>
          <div class="logo">GEOPOGO</div>
          <div class="search-bar">
            <input type="text" id="searchInput" placeholder="Search addresses or lat,lng" autocomplete="off" />
            <div class="search-results hidden" id="searchResults"></div>
          </div>
        </header>

        <div class="floating-panels">
          <section class="panel glass-panel controls-panel">
            <div class="panel-header">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="3"></circle>
                <path d="M12 1v6m0 6v6m9-9h-6m-6 0H3"></path>
              </svg>
              <h3>Display Settings</h3>
            </div>

            <div class="section">
              <h4>MAP LABELS</h4>
              <button class="toggle-btn active" id="labelsToggle">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <circle cx="12" cy="12" r="3"></circle>
                </svg>
                Labels Visible
              </button>
            </div>

            <div class="section">
              <h4>MAP PROVIDER</h4>
              <button class="provider-btn" id="providerButton">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <rect x="3" y="3" width="7" height="7"></rect>
                  <rect x="14" y="3" width="7" height="7"></rect>
                  <rect x="14" y="14" width="7" height="7"></rect>
                  <rect x="3" y="14" width="7" height="7"></rect>
                </svg>
                Google Maps Photorealistic 3D
                <span class="provider-status" id="providerStatus"></span>
              </button>
            </div>

            <div class="section">
              <h4>VIEW DISTANCE</h4>
              <div class="slider-group">
                <input type="range" id="viewDistance" min="8" max="22" value="15" step="1" />
                <span class="slider-value" id="viewDistanceValue">15</span>
              </div>
              <p class="hint">Higher values extend the viewing distance</p>
            </div>

            <div class="section">
              <h4>CAMERA MODE</h4>
              <div class="mode-buttons">
                <button class="mode-btn active" data-camera="orbit">Orbit (RTS)</button>
                <button class="mode-btn" data-camera="free">Free</button>
              </div>
            </div>
          </section>

          <div class="panel-stack">
            <section class="panel glass-panel upload-panel">
              <div class="panel-header">
                <h3>UPLOAD MODEL</h3>
              </div>
              <label class="upload-zone" id="uploadZone">
                <input type="file" id="modelInput" accept=".glb,.gltf,.obj" hidden />
                <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                  <polyline points="17 8 12 3 7 8"></polyline>
                  <line x1="12" y1="3" x2="12" y2="15"></line>
                </svg>
                <p>Drop GLB / GLTF / OBJ file here</p>
                <span class="sub-text">or click to browse</span>
              </label>
            </section>

            <section class="panel glass-panel" id="modelControlsPanel" style="display: none;">
              <div class="panel-header">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M12 2v4m0 12v4M4.93 4.93l2.83 2.83m8.48 8.48l2.83 2.83M2 12h4m12 0h4M4.93 19.07l2.83-2.83m8.48-8.48l2.83-2.83"></path>
                </svg>
                <h3>Model Controls</h3>
              </div>

              <div class="control-group">
                <label>
                  <span>SCALE</span>
                  <span class="value" id="scaleValue">1.0x</span>
                </label>
                <input type="range" id="scale" min="0.01" max="3" value="1" step="0.01" />
              </div>

              <div class="control-group">
                <label>
                  <span>ROTATION (HEADING)</span>
                  <span class="value" id="rotationValue">0°</span>
                </label>
                <input type="range" id="rotation" min="0" max="360" value="0" step="1" />
                <div class="rotation-indicator"></div>
              </div>

              <div class="control-group">
                <label>
                  <span>PITCH (TILT)</span>
                  <span class="value" id="pitchValue">0°</span>
                </label>
                <input type="range" id="pitch" min="-90" max="90" value="0" step="1" />
              </div>

              <div class="control-group">
                <label>
                  <span>ALTITUDE</span>
                  <span class="value" id="altitudeValue">0m</span>
                </label>
                <input type="range" id="altitude" min="-50" max="500" value="0" step="1" />
                <div class="control-actions">
                  <button class="ghost-btn" id="dropToGround">Drop to Terrain</button>
                </div>
              </div>

              <div class="control-group">
                <label>
                  <span>POSITION</span>
                  <span class="value hint-text">Use “Move” + map click</span>
                </label>
                <div class="position-inputs">
                  <label>
                    <span>Lat</span>
                    <input type="number" id="positionLat" step="0.000001" min="-90" max="90" />
                  </label>
                  <label>
                    <span>Lng</span>
                    <input type="number" id="positionLng" step="0.000001" min="-180" max="180" />
                  </label>
                </div>
                <div class="control-actions">
                  <button class="ghost-btn" id="centerToCamera">Use Camera Center</button>
                </div>
              </div>

              <div class="section">
                <h4>TRANSFORM MODE</h4>
                <div class="mode-buttons">
                  <button class="mode-btn active" data-mode="translate">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <path d="M5 9l-3 3 3 3M9 5l3-3 3 3M15 19l-3 3-3-3M19 9l3 3-3 3M2 12h20M12 2v20"></path>
                    </svg>
                    Move
                  </button>
                  <button class="mode-btn" data-mode="rotate">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <path d="M21.5 2v6h-6M2.5 22v-6h6M2 11.5a10 10 0 0 1 18.8-4.3M22 12.5a10 10 0 0 1-18.8 4.2"></path>
                    </svg>
                    Rotate
                  </button>
                  <button class="mode-btn" data-mode="scale">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <path d="M21 21l-6-6m2-5a7 7 0 1 1-14 0 7 7 0 0 1 14 0z"></path>
                    </svg>
                    Scale
                  </button>
                </div>
              </div>
            </section>
          </div>
        </div>

        <!-- Status Bar -->
        <div class="status-bar glass-panel">
          <span id="status">Ready to load model</span>
          <span id="coordinates"></span>
        </div>
      </div>
    </div>
    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
